import{YMC_CONTAINER,YMC_POST_ID,YMC_PATH,YMC_AJAX_URL}from"../core/constants.js";export function setupSortingTaxonomies(){let taxListElement=YMC_CONTAINER.querySelector(".js-tax-sortable");jQuery(taxListElement).sortable({axis:"X",cursor:"grab",handle:".js-tax-handle",opacity:.8,delay:150,scroll:false,containment:"parent",start:function(event,ui){ui.item[0].classList.add("is-item-dragging");taxListElement.classList.add("dragging")},stop:function(event,ui){ui.item[0].classList.remove("is-item-dragging");taxListElement.classList.remove("dragging");let listTax=[];taxListElement.querySelectorAll(".taxonomies-list__item").forEach(el=>{listTax.push(el.dataset.taxName)});let params={action:"action_taxonomies_sort",nonce_code:_ymc_fg_object.sortTaxAjax_nonce,payload:JSON.stringify({tax_sort:listTax,post_id:YMC_POST_ID})};fetch(YMC_AJAX_URL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(params).toString()}).then(function(response){if(response.ok===true){return response.json()}else{console.error("Error occurred:",response.status)}}).then(data=>{}).catch(error=>console.error(error))}})}