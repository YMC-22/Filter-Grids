import{YMC_CONTAINER,YMC_POST_ID,YMC_PATH,YMC_AJAX_URL}from"../core/constants.js";export function setupSortingTerms(){$(".js-term-insert .js-term-sortable").sortable({axis:"y",cursor:"grab",opacity:.8,delay:150,handle:".js-term-handle",containment:"parent",start:function(event,ui){ui.item[0].classList.add("is-item-dragging");ui.item[0].closest(".terms-inner").classList.add("dragging")},stop:function(event,ui){ui.item[0].classList.remove("is-item-dragging");ui.item[0].closest(".terms-inner").classList.remove("dragging");let listTerms=[];YMC_CONTAINER.querySelectorAll('.js-term-insert .js-term-sortable input[type="checkbox"]').forEach(el=>{listTerms.push(el.value)});let params={action:"action_terms_sort",nonce_code:_ymc_fg_object.sortTermAjax_nonce,payload:JSON.stringify({terms_sort:listTerms,post_id:YMC_POST_ID})};fetch(YMC_AJAX_URL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(params).toString()}).then(function(response){if(response.ok===true){return response.json()}else{console.error("Error occurred:",response.status)}}).then(data=>{}).catch(error=>console.error(error))}})}